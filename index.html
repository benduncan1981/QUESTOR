<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Goblin Chaos Adventure</title>

<style>
body{
  margin:0;
  font-family:-apple-system, sans-serif;
  background:#111;
  color:#fff;
  padding:16px;
}
.card{
  max-width:700px;
  margin:auto;
  background:#1b1b1b;
  padding:20px;
  border-radius:16px;
}
h1{
  margin-top:0;
  font-size:24px;
}
.scene{
  margin-bottom:20px;
  line-height:1.5;
}
h3{
  margin-bottom:8px;
}
button{
  display:block;
  width:100%;
  margin:8px 0;
  padding:12px;
  border:none;
  border-radius:10px;
  background:#2e7d32;
  color:white;
  font-size:16px;
}
button:active{
  opacity:0.8;
}
.result{
  margin-top:16px;
  background:#2a2a2a;
  padding:12px;
  border-radius:10px;
}
.hidden{display:none;}
.small{
  font-size:14px;
  opacity:0.8;
}
</style>
</head>

<body>

<div class="card">

<h1>Goblin Chaos Adventure</h1>

<div class="scene" id="sceneText"></div>

<h3>Player 1 chooses</h3>
<div id="p1Choices"></div>

<h3>Player 2 chooses</h3>
<div id="p2Choices"></div>

<div id="resultBox" class="result hidden"></div>

<button id="nextBtn" class="hidden">Next Scene</button>

<p class="small">
Chaos level: cooperative goblin nonsense enabled.
</p>

</div>

<script>

const scenes = [
{
text:"You enter a tavern where goblins argue passionately about soup ethics.",
choices:[
"Offer emotional support",
"Challenge the soup to combat",
"Start a chaotic dance",
"Flirt with the nearest goblin"
]
},
{
text:"A dragon blocks your path and asks for relationship advice.",
choices:[
"Take it seriously",
"Tell a ridiculous joke",
"Offer a comforting hug",
"Declare yourselves dragon consultants"
]
},
{
text:"You discover a cursed picnic basket whispering romantic poems.",
choices:[
"Open it carefully",
"Kick it into a bush",
"Sit together and listen",
"Claim it as sacred goblin treasure"
]
}
];

const outcomes = [
"The universe approves of your chaotic teamwork.",
"You somehow solve the problem through emotional nonsense.",
"A narrator declares you an iconic disaster duo.",
"The goblins cheer your combined energy."
];

let currentScene = 0;
let p1Choice = null;
let p2Choice = null;

function renderScene(){
  const s = scenes[currentScene];

  document.getElementById("sceneText").innerHTML =
    "<strong>Scene:</strong><br>" + s.text;

  p1Choice = null;
  p2Choice = null;

  buildButtons("p1Choices",1);
  buildButtons("p2Choices",2);

  document.getElementById("resultBox").classList.add("hidden");
  document.getElementById("nextBtn").classList.add("hidden");
}

function buildButtons(target,player){
  const div = document.getElementById(target);
  div.innerHTML = "";

  scenes[currentScene].choices.forEach(choice=>{
    const btn = document.createElement("button");
    btn.textContent = choice;

    btn.onclick = ()=>{
      if(player===1) p1Choice = choice;
      else p2Choice = choice;

      checkBothChosen();
    };

    div.appendChild(btn);
  });
}

function checkBothChosen(){
  if(!p1Choice || !p2Choice) return;

  const result = document.getElementById("resultBox");
  result.classList.remove("hidden");

  const randomOutcome =
    outcomes[Math.floor(Math.random()*outcomes.length)];

  result.innerHTML =
    "<strong>Choices:</strong><br>" +
    "Player 1: " + p1Choice + "<br>" +
    "Player 2: " + p2Choice + "<br><br>" +
    randomOutcome;

  document.getElementById("nextBtn")
    .classList.remove("hidden");
}

document.getElementById("nextBtn").onclick = ()=>{
  currentScene++;
  if(currentScene >= scenes.length){
    currentScene = 0;
  }
  renderScene();
};

renderScene();

</script>

</body>
</html>
